<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dl.member.dao.UserAccountMapper">
  <resultMap id="BaseResultMap" type="com.dl.member.model.UserAccount">
    <!--
      WARNING - @mbg.generated
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="account_sn" jdbcType="VARCHAR" property="accountSn" />
    <result column="user_id" jdbcType="INTEGER" property="userId" />
    <result column="admin_user" jdbcType="VARCHAR" property="adminUser" />
    <result column="amount" jdbcType="DECIMAL" property="amount" />
    <result column="cur_balance" jdbcType="DECIMAL" property="curBalance" />
    <result column="add_time" jdbcType="INTEGER" property="addTime" />
    <result column="last_time" jdbcType="INTEGER" property="lastTime" />
    <result column="process_type" jdbcType="INTEGER" property="processType" />
    <result column="payment_code" jdbcType="VARCHAR" property="paymentCode" />
    <result column="payment_name" jdbcType="VARCHAR" property="paymentName" />
    <result column="order_sn" jdbcType="VARCHAR" property="orderSn" />
    <result column="parent_sn" jdbcType="VARCHAR" property="parentSn" />
    <result column="note" jdbcType="LONGVARCHAR" property="note" />
  </resultMap>
  
  <select id="queryUserAccountBySelective" parameterType="com.dl.member.model.UserAccount"  resultMap="BaseResultMap">
  		SELECT *  FROM dl_user_account 
	  	<where>
		  	<if test="userId != null">
		        AND user_id = #{userId}
		    </if>
		    <if test="processType != null">
		        AND process_type = #{processType}
		    </if>
		    <if test="id != null">
		        AND id = #{id}
		    </if>
		    <if test="accountSn != null">
		        AND account_sn = #{accountSn}
		    </if>
	    </where>
  		ORDER BY add_time
  </select>
  
  <insert id="insertUserAccount">
  	INSERT INTO dl_user_account(account_sn,user_id,admin_user,amount,
  	cur_balance,add_time,last_time,process_type,payment_code,payment_name,
  	order_sn,parent_sn,note) 
  	VALUES(#{accountSn},#{userId},#{adminUser},#{amount},
  	#{curBalance},#{addTime},#{lastTime},#{processType},#{paymentCode},#{paymentName},#{orderSn},#{parentSn},#{note});
  </insert>
</mapper>